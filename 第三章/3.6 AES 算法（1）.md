
### **有限域（Finite Field）的定义**

有限域，顾名思义，是一个元素数量有限的数学结构，满足四个基本的代数运算：加法、减法、乘法和除法。有限域也被称为 **伽罗瓦域**（Galois Field），以数学家 **Évariste Galois** 的名字命名。有限域通常是由一组元素和这组元素的加法与乘法规则构成的。

#### **GF(p)** 与 **GF(p^n)**

- **GF(p)** 表示的是 **素数阶域**（prime field），其中的元素为整数集合 {0, 1, 2, ..., p-1}，并且加法和乘法是模 p 进行的。比如，GF(2) 是一个包含两个元素的有限域，元素是 {0, 1}，加法和乘法都是模 2 运算（即二进制运算）。
    
- **GF(p^n)** 表示的是 **扩展域**（extension field），其中 p 是素数，n 是正整数。这里的元素可以看作是多项式，系数是从 GF(p) 中取的，运算是模某个不可约多项式进行的。例如，GF(2^8) 是一个包含 256 个元素的有限域，元素可以用 8 位二进制数表示。
    

### **有限域运算的基本操作**

有限域中的运算可以与我们平时在整数集合中的运算有些相似，但由于元素数量是有限的，所以我们需要进行 **模运算**（即“取余”运算）。

#### 1. **加法（Addition）**

在有限域中，**加法**是一个模运算。例如，在 GF(2) 中的加法实际上就是异或（XOR）运算：

- 1 + 1 = 0（因为 1+1=21 + 1 = 2，而我们对 2 进行模 2 运算，得到 0）
    
- 0 + 1 = 1
    
- 1 + 0 = 1
    

在更大的有限域中（比如 GF(2^8)），加法依然是模运算的应用。


假设我们要计算 0x57+0x830x57 + 0x83：

- $0x57 = 01010111_2$ 
    
- $0x83 = 10000011_2$ 
    

我们按位进行异或运算：

$$\begin{array}{c} 01010111_2 \\ + 10000011_2 \\ \hline 11010100_2 \\ \end{array}$$

结果是 $11010100211010100_2$ ，即 $0xD4$ 。
#### 2. **乘法（Multiplication）**

有限域中的 **乘法** 也是模运算。例如，在 GF(2) 中的乘法就是 **与运算**（AND）：

- 1 * 1 = 1
    
- 0 * 1 = 0
    
- 1 * 0 = 0
    

在更大的域中，例如 GF(2^8)，乘法会更加复杂，它通过多项式的乘法来实现，然后对结果进行模不可约多项式的运算。



#### 3. **除法（Division）和逆元（Inverse）**

有限域中的 **除法** 其实是通过 **求逆元** 来实现的。如果我们有一个元素 a，想要计算 $a^{-1}$ （即逆元），则需要找到一个 b，使得：

$$a \times b = 1$$ 

在有限域 GF(p) 中，逆元的计算可以通过扩展欧几里得算法实现。在 $GF(2^8)$  这种扩展域中，逆元是多项式运算的结果。

#### 4. **加法与乘法的区别：**

- **加法** 是模 p 加法，通常是对各个位进行“异或”或“加法”。
    
- **乘法** 是模 p 乘法，通常通过多项式运算或者矩阵乘法来实现。
    

### **有限域运算的例子**

以 **GF(2^8)** 为例，这个域有 256 个元素，元素是从 0 到 255 的整数。为了理解 GF(2^8) 中的运算，我们可以选择一个 **不可约多项式**，比如 $x^8 + x^4 + x^3 + x + 1$ ，并使用它来进行模运算。

#### **加法例子：**

在 GF(2^8) 中，加法是模 2 的加法。假设我们要计算两个元素 0x57 和 0x83 的加法：

- $$0x57 = 01010111_2$$
- $$0x83 = 10000011_2$$
    

直接进行 **按位异或** 运算，得到：

$$0x57 \oplus 0x83 = 11010100_2 = 0xD4$$


#### **乘法例子：**
[3.6 AES 算法（2）](3.6%20AES%20算法（2）.md)

